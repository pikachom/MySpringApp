{"ast":null,"code":"import axios from \"axios\";\nimport { observable, runInAction, toJS } from \"mobx\";\nlet authMethods = observable({\n  login: loginData => {\n    console.log(loginData);\n    axios.post(\"http://localhost:8080/api/authenticate\", {\n      withCredentials: true,\n      origin: \"http://localhost:8080\",\n      username: loginData.username,\n      password: loginData.password\n    }).then(function (response) {\n      console.log(\"로그인 성공\");\n      console.log(response);\n      this.setDefaultAxiosRequestHeader(response);\n    }).catch(function (error) {\n      console.log(\"로그인 실패\");\n      console.log(error);\n    });\n  },\n  setDefaultAxiosRequestHeader: response => {\n    const {\n      accessToken\n    } = response.data;\n    console.log(response.data); // accessToken 설정\n\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${accessToken}`;\n  },\n  hello: loginData => {\n    axios.get(\"http://localhost:8080/api/hello\", {\n      withCredentials: true,\n      origin: \"http://localhost:8080\"\n    }).then(function (response) {\n      console.log(\"로그인 성공\");\n      console.log(response);\n    }).catch(function (error) {\n      console.log(\"로그인 실패\");\n      console.log(error);\n    });\n  }\n});\nexport default authMethods;","map":{"version":3,"sources":["/home/ubuntu/바탕화면/dev/source/react/my-app/src/Auth/AuthStore.js"],"names":["axios","observable","runInAction","toJS","authMethods","login","loginData","console","log","post","withCredentials","origin","username","password","then","response","setDefaultAxiosRequestHeader","catch","error","accessToken","data","defaults","headers","common","hello","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,WAArB,EAAkCC,IAAlC,QAA8C,MAA9C;AAEA,IAAIC,WAAW,GAAGH,UAAU,CAAC;AAC3BI,EAAAA,KAAK,EAAGC,SAAD,IAAe;AACpBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACAN,IAAAA,KAAK,CACFS,IADH,CACQ,wCADR,EACkD;AAC9CC,MAAAA,eAAe,EAAE,IAD6B;AAE9CC,MAAAA,MAAM,EAAE,uBAFsC;AAG9CC,MAAAA,QAAQ,EAAEN,SAAS,CAACM,QAH0B;AAI9CC,MAAAA,QAAQ,EAAEP,SAAS,CAACO;AAJ0B,KADlD,EAOGC,IAPH,CAOQ,UAAUC,QAAV,EAAoB;AACxBR,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYO,QAAZ;AACA,WAAKC,4BAAL,CAAkCD,QAAlC;AACD,KAXH,EAYGE,KAZH,CAYS,UAAUC,KAAV,EAAiB;AACtBX,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,KAfH;AAgBD,GAnB0B;AAoB3BF,EAAAA,4BAA4B,EAAGD,QAAD,IAAc;AAC1C,UAAM;AAAEI,MAAAA;AAAF,QAAkBJ,QAAQ,CAACK,IAAjC;AACAb,IAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACK,IAArB,EAF0C,CAG1C;;AACApB,IAAAA,KAAK,CAACqB,QAAN,CAAeC,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IAAkD,UAASJ,WAAY,EAAvE;AACD,GAzB0B;AA0B3BK,EAAAA,KAAK,EAAGlB,SAAD,IAAe;AACpBN,IAAAA,KAAK,CACFyB,GADH,CACO,iCADP,EAC0C;AACtCf,MAAAA,eAAe,EAAE,IADqB;AAEtCC,MAAAA,MAAM,EAAE;AAF8B,KAD1C,EAKGG,IALH,CAKQ,UAAUC,QAAV,EAAoB;AACxBR,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYO,QAAZ;AACD,KARH,EASGE,KATH,CASS,UAAUC,KAAV,EAAiB;AACtBX,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,KAZH;AAaD;AAxC0B,CAAD,CAA5B;AA2CA,eAAed,WAAf","sourcesContent":["import axios from \"axios\";\nimport { observable, runInAction, toJS } from \"mobx\";\n\nlet authMethods = observable({\n  login: (loginData) => {\n    console.log(loginData);\n    axios\n      .post(\"http://localhost:8080/api/authenticate\", {\n        withCredentials: true,\n        origin: \"http://localhost:8080\",\n        username: loginData.username,\n        password: loginData.password,\n      })\n      .then(function (response) {\n        console.log(\"로그인 성공\");\n        console.log(response);\n        this.setDefaultAxiosRequestHeader(response);\n      })\n      .catch(function (error) {\n        console.log(\"로그인 실패\");\n        console.log(error);\n      });\n  },\n  setDefaultAxiosRequestHeader: (response) => {\n    const { accessToken } = response.data;\n    console.log(response.data);\n    // accessToken 설정\n    axios.defaults.headers.common[\"Authorization\"] = `Bearer ${accessToken}`;\n  },\n  hello: (loginData) => {\n    axios\n      .get(\"http://localhost:8080/api/hello\", {\n        withCredentials: true,\n        origin: \"http://localhost:8080\",\n      })\n      .then(function (response) {\n        console.log(\"로그인 성공\");\n        console.log(response);\n      })\n      .catch(function (error) {\n        console.log(\"로그인 실패\");\n        console.log(error);\n      });\n  },\n});\n\nexport default authMethods;\n"]},"metadata":{},"sourceType":"module"}